(this["webpackJsonpcv-project"]=this["webpackJsonpcv-project"]||[]).push([[0],{52:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var i=n(5),a=n.n(i),r=n(46),s=n.n(r),c=(n(52),n(8)),o=n(9),l=n(12),u=n(11),d=n(13),p=n(15),h=n(14),m=n(22),f=n.n(m),b=n(26);function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}function x(e){return e.slice(e.search(/\./)+1)}function O(e){return JSON.parse(JSON.stringify(e))}function g(e){return Object.keys(e).reduce((function(t,n){return"id"===n||Array.isArray(e[n])?t:"object"===typeof e[n]&&null!==e[n]?[].concat(Object(d.a)(t),Object(d.a)(g(e[n]))):[].concat(Object(d.a)(t),[n])}),[])}var v=n(3),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"labelFormatted",value:function(){return j(this.props.field.name.replace(/([A-Z])/g," $1").trim())}},{key:"getValue",value:function(e,t){var n;return e.forEach((function(e){e.fields.forEach((function(e){e.name===t&&(n=e.value)}))})),n}},{key:"setClassControl",value:function(){return"phoneNumber"===this.props.field.name?"control flex-grow-0 w-40":"control"}},{key:"onChangeHandler",value:function(e,t,n){0!==e.length?t(n):this.props.handleChange(n)}},{key:"render",value:function(){var e=this;return Object(v.jsx)(A.Consumer,{children:function(t){var n=t.form,i=t.handleChange;return Object(v.jsx)("div",{className:e.setClassControl(),children:Object(v.jsxs)("label",{children:[Object(v.jsx)("div",{className:"label-title",children:e.props.field.labelText?e.props.field.labelText:e.labelFormatted()}),Object(v.jsx)("input",{type:e.props.field.type,name:e.props.field.name,onChange:function(t){return e.onChangeHandler(n,i,t)},value:e.getValue(0!==n.length?n:e.props.form,e.props.field.name),placeholder:e.props.field.placeholder,checked:e.props.field.labelText,required:!0})]})})}})}}]),n}(i.Component),E=n(42),N=n(20),I=n(33),k=n(34),C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={year:{length:100,format:"yyyy",fn:E.a},month:{length:12,format:"MMMM",fn:N.a}},i}return Object(o.a)(n,[{key:"getOption",value:function(e,t){return Object(v.jsx)("option",{value:I["get"+j(this.props.type)](e),children:k.a(e,this.state[this.props.type].format)},t)}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<this.state[this.props.type].length;n++)t.push(this.state[this.props.type].fn(new Date(2021,0,1),n));return Object(v.jsx)(A.Consumer,{children:function(n){var i=n.handleChange;return Object(v.jsxs)("select",{name:e.props.name,value:e.props.value,onChange:i,children:[Object(v.jsx)("option",{value:"",children:"-- No Specified --"}),e.props.name.startsWith("endDate")&&Object(v.jsx)("option",{value:"-1",children:"-- Present"}),t.map((function(t,n){return e.getOption(t,n)}))]})}})}}]),n}(i.Component),S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getGroupName",value:function(e){return e.slice(0,e.search(/[A-Z]/))}},{key:"slitGroup",value:function(){var e=this,t=[];return this.props.group.fields.forEach((function(n){var i=t.findIndex((function(t){return t.name===e.getGroupName(n.name)}));-1!==i?t[i].fields.push({id:n.id,name:"".concat(n.name,".").concat(n.subName),type:"select",value:n.value}):t.push({id:f()(),name:e.getGroupName(n.name),fields:[{id:n.id,name:"".concat(n.name,".").concat(n.subName),type:"select",value:n.value}]})})),t}},{key:"render",value:function(){if(this.props.group.hasSubGroup){var e=this.slitGroup();return Object(v.jsxs)("fieldset",{className:"group-control field-container gap-0 block flex-wrap",children:[Object(v.jsx)("legend",{children:this.props.group.name}),e.map((function(e){return Object(v.jsx)(n,{group:e},e.id)}))]})}return Object(v.jsxs)("fieldset",{className:"group-control field-container",children:[Object(v.jsx)("legend",{children:j(this.props.group.name)}),this.props.group.fields.map((function(e){return e.type&&"select"===e.type?Object(v.jsx)(C,{name:e.name,type:x(e.name),value:e.value},e.id):Object(v.jsx)(y,{field:e},e.id)}))]})}}]),n}(i.Component),P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;Object(c.a)(this,n);var a={form:O((i=t.call(this,e)).props.defaultForm)};return a.form.forEach((function(e){e.id=f()(),e.fields.forEach((function(e){return e.id=f()()}))})),i.state=a,i.handleChange=i.handleChange.bind(Object(h.a)(i)),i}return Object(o.a)(n,[{key:"findIndexes",value:function(e){var t=e.split(".");return this.state.form.reduce((function(e,n,i){var a=n.fields.findIndex((function(e){return 1===t.length?e.name===t[0]:e.name===t[0]&&e.subName===t[1]}));return-1!==a&&(e.group=i,e.field=a),e}),{})}},{key:"handleChange",value:function(e){var t=this.findIndexes(e.target.name);this.setState((function(n){var i=n.form,a=i[t.group].fields.slice(0,t.field),r=i[t.group].fields.slice(t.field+1);return{form:[].concat(Object(d.a)(i.slice(0,t.group)),[Object(p.a)(Object(p.a)({},i[t.group]),{},{fields:[].concat(Object(d.a)(a),[Object(p.a)(Object(p.a)({},i[t.group].fields[t.field]),{},{value:e.target.value})],Object(d.a)(r))})],Object(d.a)(i.slice(t.group+1)))}}))}},{key:"getSubmitHandler",value:function(e){return this.props.eduId?this.props.submitHandler(e,this.props.eduId):this.props.submitHandler(e)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("form",{action:"#",onSubmit:function(t){return e.getSubmitHandler(t)},className:"info-container",children:[this.state.form.map((function(t){return void 0===t.name?Object(v.jsx)(y,{field:t.fields[0],form:e.state.form,handleChange:e.handleChange},t.fields[0].id):Object(v.jsx)(A.Provider,{value:{form:e.state.form,handleChange:e.handleChange},children:Object(v.jsx)(S,{group:t,timePeriodCompleted:t.completed})},t.id)})),Object(v.jsxs)("div",{className:"btn-form-group transition-state",children:[this.props.hideForm&&Object(v.jsx)("button",{onClick:this.props.eduId?function(){return e.props.hideForm(e.props.eduId)}:this.props.hideForm,className:"btn-form btn-cancel transition-state",children:"Cancel"}),Object(v.jsx)("button",{type:"submit",className:"btn-form btn-submit transition-state",children:"Save"})]})]})}}]),n}(i.Component),A=a.a.createContext({form:[],handleChange:function(){}}),D=P,F=n(25),T=n(47),w=n(29),H=n(44),M=n(45),G=n(43),X=n(10),B=n(31),J=n(32);var L=function(e){return Object(v.jsx)($.Consumer,{children:function(t){var n=t.actionsSettings;return Object(v.jsx)("button",{className:"transition-state btn "+n[e.btnType].class,onClick:function(){n[e.btnType].action(e.id)},children:Object(v.jsx)("div",{className:"icon-container",children:Object(v.jsx)(b.a,{icon:n[e.btnType].icon})})})}})},U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={actionBtnTypes:["edit","delete"],ids:{edit:f()(),delete:f()()}},i}return Object(o.a)(n,[{key:"timePeriodFormatted",value:function(e){return Object(X.a)(e)?Object(M.a)(e)?"Present":Object(B.a)(Object(J.a)(e),e)?Object(k.a)(e,"yyyy"):Object(k.a)(e,"MM-yyyy"):"Unknown"}},{key:"getTitle",value:function(){return this.props.item.degree?this.props.item.degree:this.props.item.position}},{key:"getName",value:function(){return this.props.item.school?this.props.item.school:this.props.item.company}},{key:"renderMainTask",value:function(){return Object(v.jsx)("p",{className:"px-1",children:this.props.item.mainTask})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("li",{className:"flex justify-between m-2 px-4 py-2 border border-solid border-blue-200 rounded-md bg-gray-200",children:[Object(v.jsxs)("article",{children:[Object(v.jsxs)("div",{className:" text-sm text-gray-800",children:[Object(v.jsx)("span",{children:this.timePeriodFormatted(this.props.item.timePeriod.start)})," ","/"," ",Object(v.jsx)("span",{children:this.timePeriodFormatted(this.props.item.timePeriod.end)})]}),Object(v.jsx)("h2",{className:"text-xl font-bold",children:this.getTitle()}),this.props.item.mainTask&&this.renderMainTask(),Object(v.jsx)("p",{className:"px-1 text-sm font-light",children:this.getName()})]}),Object(v.jsx)("div",{className:"flex items-start gap-2",children:this.state.actionBtnTypes.map((function(t){return Object(v.jsx)(L,{btnType:t,id:e.props.item.id},e.state.ids[t])}))})]})}}]),n}(i.Component);var Z=function(e){return e.educaiton.isEditing?Object(v.jsx)(q.Consumer,{children:function(t){var n=t.editExperience,i=t.updateExperience,a=t.toggleIsEditing;return Object(v.jsx)(D,{eduId:e.educaiton.id,defaultForm:n(e.educaiton.id),submitHandler:i,hideForm:a})}}):Object(v.jsx)(U,{item:e.educaiton})};var V=function(e){return Object(v.jsx)("ul",{children:e.items.map((function(e){return Object(v.jsx)(Z,{educaiton:e},e.id)}))})},$=a.a.createContext({id:"",actionsSettings:{}}),q=a.a.createContext({editExperience:function(){},updateExperience:function(){},toggleIsEditing:function(){}}),R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={typeExperience:i.props.typeExperience},i.state=Object(p.a)(Object(p.a)({},i.state),O(i.props.experience)),i.addExperience=i.addExperience.bind(Object(h.a)(i)),i.editExperience=i.editExperience.bind(Object(h.a)(i)),i.deleteExperience=i.deleteExperience.bind(Object(h.a)(i)),i.toggleIsAdding=i.toggleIsAdding.bind(Object(h.a)(i)),i.toggleIsEditing=i.toggleIsEditing.bind(Object(h.a)(i)),i.updateExperience=i.updateExperience.bind(Object(h.a)(i)),i}return Object(o.a)(n,[{key:"fillExperience",value:function(e){var t=this,n=g(this.state.blankExperience),i=O(this.state.blankExperience);return n.forEach((function(n){"start"===n||"end"===n?i.timePeriod[n]=t.getDate(e,n+"Date"):i[n]=e[n].value})),i}},{key:"getDate",value:function(e,t){var n=Array.from(e).reduce((function(e,n){var i=new RegExp(t);n.name&&i.test(n.name)&&(e[x(n.name)]=n.value);return e}),{});return"-1"===n.year&&"-1"===n.month?Object(w.a)(new Date,5):""!==n.year&&""===n.month?new Date(n.year,11,31):""===n.year&&""!==n.month?new Date(Object(H.a)(new Date),n.month):""!==n.year&&""!==n.month?new Date(n.year,n.month):void 0}},{key:"addExperience",value:function(e){var t=this;e.preventDefault(),this.setState((function(n){return{isAdding:!1,experienceInfo:[].concat(Object(d.a)(n.experienceInfo),[Object(p.a)({id:f()(),isEditing:!1},t.fillExperience(e.target))])}}))}},{key:"editExperience",value:function(e){var t=this.state.experienceInfo.find((function(t){return t.id===e})),n=O(this.state.form);return g(this.state.blankExperience).forEach((function(e){n.forEach((function(n){n.fields.forEach((function(n){if(n.name.includes(e))return n.subName&&"month"===n.subName?Object(M.a)(t.timePeriod[e])?n.value="-1":Object(B.a)(Object(J.a)(t.timePeriod[e]),t.timePeriod[e])||void 0===t.timePeriod[e]?n.value="":n.value=Object(G.a)(t.timePeriod[e]):n.subName&&"year"===n.subName?Object(M.a)(t.timePeriod[e])?n.value="-1":void 0===t.timePeriod[e]?n.value="":n.value=Object(H.a)(t.timePeriod[e]):n.value=t[e]}))}))})),n}},{key:"updateExperience",value:function(e,t){var n=this;this.setState((function(i){var a=i.experienceInfo,r=a.findIndex((function(e){return e.id===t}));return{experienceInfo:[].concat(Object(d.a)(a.slice(0,r)),[Object(p.a)(Object(p.a)({},a[r]),{},{isEditing:!1},n.fillExperience(e.target))],Object(d.a)(a.slice(r+1)))}}))}},{key:"deleteExperience",value:function(e){this.setState((function(t){var n=t.experienceInfo.filter((function(t){return t.id!==e}));return 0===n.length?{isAdding:!0,experienceInfo:n}:{experienceInfo:n}}))}},{key:"toggleIsAdding",value:function(){this.setState((function(e){return{isAdding:!e.isAdding}}))}},{key:"toggleIsEditing",value:function(e){this.setState((function(t){var n=t.experienceInfo,i=n.findIndex((function(t){return t.id===e}));return{experienceInfo:[].concat(Object(d.a)(n.slice(0,i)),[Object(p.a)(Object(p.a)({},n[i]),{},{isEditing:!n[i].isEditing})],Object(d.a)(n.slice(i+1)))}}))}},{key:"render",value:function(){return Object(v.jsxs)("article",{className:"info-container",children:[Object(v.jsxs)("h2",{className:"title",children:[this.state.typeExperience," Experience"]}),this.state.isAdding&&Object(v.jsx)(D,{defaultForm:this.state.form,submitHandler:this.addExperience,hideForm:this.state.experienceInfo.length>0&&this.toggleIsAdding}),this.state.experienceInfo.length>0&&Object(v.jsx)($.Provider,{value:{actionsSettings:{edit:{action:this.toggleIsEditing,icon:F.b,class:"btn-edit"},delete:{action:this.deleteExperience,icon:F.d,class:"btn-delete"}}},children:Object(v.jsx)(q.Provider,{value:{editExperience:this.editExperience,updateExperience:this.updateExperience,toggleIsEditing:this.toggleIsEditing},children:Object(v.jsx)(V,{items:this.state.experienceInfo})})}),!this.state.isAdding&&Object(v.jsx)("button",{onClick:this.toggleIsAdding,className:"btn transition-state block m-3 ml-auto text-xl text-indigo-500 hover:text-indigo-700",children:Object(v.jsx)("div",{className:"icon-container",children:Object(v.jsx)(b.a,{icon:T.a})})})]})}}]),n}(i.Component),W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={isAdding:!0,experienceInfo:[],form:[{fields:[{name:"school",placeholder:"University of Bologna",value:""}]},{fields:[{name:"degree",placeholder:"Computer Science",value:""}]},{hasSubGroup:!0,completed:!0,name:"Period of study",fields:[{name:"startDate",subName:"month",type:"select",value:""},{name:"startDate",subName:"year",type:"select",value:""},{name:"endDate",subName:"month",type:"select",value:""},{name:"endDate",subName:"year",type:"select",value:""}]}],blankExperience:{school:"",degree:"",timePeriod:{start:"",end:""}}},i}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)(R,{typeExperience:"Educational",experience:this.state})}}]),n}(i.Component),z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"labelFormatted",value:function(){return j(this.props.type.name.replace(/([A-Z])/g," $1").trim())}},{key:"render",value:function(){return this.props.IsContact?Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fa-li text-gray-500",children:Object(v.jsx)(b.a,{icon:this.props.iconName})}),Object(v.jsx)("span",{className:"align-top",children:this.props.text})]}):Object(v.jsx)("span",{children:this.props.text})}}]),n}(i.Component);var K=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("section",{className:"field-container",children:[Object(v.jsx)("h3",{children:"Full Name"}),Object(v.jsxs)("p",{children:[Object(v.jsx)(z,{text:e.personalInfo.firstName,isEditing:!1})," ",Object(v.jsx)(z,{text:e.personalInfo.lastName,isEditing:!1})]})]}),Object(v.jsxs)("section",{className:"field-container",children:[Object(v.jsx)("h3",{children:"Current Location"}),Object(v.jsxs)("p",{children:[Object(v.jsx)(z,{text:e.personalInfo.location.city,isEditing:!1}),", ",Object(v.jsx)(z,{text:e.personalInfo.location.country,isEditing:!1})]})]}),Object(v.jsxs)("section",{className:"field-container",children:[Object(v.jsx)("h3",{children:"Contact"}),Object(v.jsxs)("ul",{className:"fa-ul",children:[Object(v.jsx)(z,{text:e.personalInfo.contact.phoneNumber,isEditing:!1,IsContact:!0,iconName:F.c}),Object(v.jsx)(z,{text:e.personalInfo.contact.email,isEditing:!1,IsContact:!0,iconName:F.a})]})]})]})},Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={isAdding:!0,isEditing:!1,personalInfo:{firstName:"",lastName:"",location:{city:"",country:""},contact:{phoneNumber:"",email:""}},form:[{name:"Full Name",fields:[{name:"firstName",placeholder:"John",value:""},{name:"lastName",placeholder:"Doe",value:""}]},{name:"Current Location",fields:[{name:"city",placeholder:"Madrid",value:""},{name:"country",placeholder:"Spain",value:""}]},{name:"Contact",fields:[{name:"phoneNumber",value:"",type:"tel",placeholder:"XXX XX XX XX"},{name:"email",placeholder:"johnDoe@example.com",value:"",type:"email"}]}]},i.handleSubmit=i.handleSubmit.bind(Object(h.a)(i)),i.toggleEdit=i.toggleEdit.bind(Object(h.a)(i)),i}return Object(o.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isAdding:!1,isEditing:!1,personalInfo:{firstName:e.target.firstName.value,lastName:e.target.lastName.value,location:{city:e.target.city.value,country:e.target.country.value},contact:{phoneNumber:e.target.phoneNumber.value,email:e.target.email.value}}})}},{key:"edit",value:function(){var e=O(this.state.form);return e[0].fields[0].value=this.state.personalInfo.firstName,e[0].fields[1].value=this.state.personalInfo.lastName,e[1].fields[0].value=this.state.personalInfo.location.city,e[1].fields[1].value=this.state.personalInfo.location.country,e[2].fields[0].value=this.state.personalInfo.contact.phoneNumber,e[2].fields[1].value=this.state.personalInfo.contact.email,e}},{key:"toggleEdit",value:function(){this.setState((function(e){return{isEditing:!e.isEditing}}))}},{key:"render",value:function(){return Object(v.jsxs)("article",{className:"info-container",children:[Object(v.jsxs)("h2",{className:"title",children:[Object(v.jsx)("span",{children:"Personal Info."}),!this.state.isEditing&&!this.state.isAdding&&Object(v.jsx)($.Provider,{value:{actionsSettings:{edit:{action:this.toggleEdit,icon:F.b,class:"btn-edit"}}},children:Object(v.jsx)(L,{btnType:"edit"})})]}),this.state.isAdding||this.state.isEditing?Object(v.jsx)(D,{submitHandler:this.handleSubmit,defaultForm:this.state.isEditing?this.edit():this.state.form,hideForm:this.state.isEditing&&this.toggleEdit}):Object(v.jsx)(K,{personalInfo:this.state.personalInfo})]})}}]),n}(i.Component),Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={isAdding:!0,experienceInfo:[],form:[{fields:[{name:"company",placeholder:"GitHub ",value:""}]},{fields:[{name:"position",placeholder:"Software Engineer",value:""}]},{fields:[{name:"mainTask",value:""}]},{hasSubGroup:!0,completed:!0,name:"Period in the company",fields:[{name:"startDate",subName:"month",type:"select",value:""},{name:"startDate",subName:"year",type:"select",value:""},{name:"endDate",subName:"month",type:"select",value:""},{name:"endDate",subName:"year",type:"select",value:""}]}],blankExperience:{position:"",company:"",mainTask:"",timePeriod:{start:"",end:""}}},i}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)(R,{typeExperience:"Practical",experience:this.state})}}]),n}(i.Component),_=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"mx-auto max-w-half",children:[Object(v.jsx)(Q,{}),Object(v.jsx)(W,{}),Object(v.jsx)(Y,{})]})}}]),n}(i.Component),ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root")),ee()}},[[58,1,2]]]);
//# sourceMappingURL=main.4aef7ae4.chunk.js.map